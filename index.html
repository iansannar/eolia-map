<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width" name="viewport" />
    <title>Eolia Map</title>
    <!--   import mapbox gl js and css   -->
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.js"></script>
    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.9.1/mapbox-gl.css"
      rel="stylesheet"
    />
    <link id="favicon" rel="shortcut icon" type="image/png" href=" data:image/png;base64,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"/>
  </head>

  <!--  map css  -->
  <style>
    #map {
      position: absolute;
      width: 100%;
      top: 0;
      bottom: 0;
      left: 0;
    }

    .mapboxgl-popup {
      max-width: 400px;
      font: 12px/20px "Helvetica Neue", Arial, Helvetica, sans-serif;
      overflow: visible;
    }

    .mapboxgl-popup-content {
      box-shadow: none;
      color: black !important;
    }

    .mapboxgl-popup-close-button {
      top: 10%;
      right: 10%;
    }
  </style>

  <body>
    <!-- map element -->
    <!-- This is where the map will live -->
    <div id="map"></div>

    <!-- web map script -->
    <script>
      // access token required for loading your custom styles
      mapboxgl.accessToken =
        "pk.eyJ1IjoiaWFuc2FubmFyIiwiYSI6ImNrOHdnajF6MDB3YXQzbm1oMm95eWltaTMifQ.cv0Yq39pzSZ5dFMI0jC7BQ";

      // create a new map using the style from mapbox and passing some parameters for the initial view
      var map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/iansannar/ck9rz6wkb1yeu1ioz2iflnjaf",
        // lon, lat
        center: [0, 0],
        zoom: 1.25,
        maxZoom: 18,
        minZoom: 1
      });

      // Change the cursor to a pointer when the mouse is over the places layer.
        map.on("mouseenter", "Points of Interest", function() {
          map.getCanvas().style.cursor = "pointer";
        });
        
        // Change it back to a pointer when it leaves.
        map.on('mouseleave', "Points of Interest", function () {
        map.getCanvas().style.cursor = '';
        });
      
      // When a click event occurs on a feature in the places layer, open a popup at the
      // location of the feature, with description HTML from its properties.
      map.on("click", "Points of Interest", function(e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var name = e.features[0].properties.title;
        var subtitle = e.features[0].properties.subtitle;
        var info = e.features[0].properties.info;

        // create a variable to hold the popupcontent so we can conditionally add to it
        var popupContent;

        if (name != null){
        popupContent = "<h2>" + name + "</h2>";
        }
        
        if (subtitle != null) {
          popupContent += "\n<h3>" + subtitle +"</h3>";
        }

        if (info != null) {
          popupContent += "<hr>" + info;
        }

        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
          coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        // once the we've defined the properties for our popup, this part actually
        // displays that popup at the coordinates of the click event, with the inner html
        // we defined, and adds it to the map object.
        new mapboxgl.Popup()
          .setLngLat(coordinates)
          .setHTML(popupContent)
          .addTo(map);
      });
      
      // Change the cursor to a pointer when the mouse is over the places layer.
        map.on("mouseenter", "Cities", function() {
          map.getCanvas().style.cursor = "pointer";
        });
        
        // Change it back to a pointer when it leaves.
        map.on('mouseleave', "Cities", function () {
        map.getCanvas().style.cursor = '';
        });
      
      // When a click event occurs on a feature in the places layer, open a popup at the
      // location of the feature, with description HTML from its properties.
      map.on("click", "Cities", function(e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var name = e.features[0].properties.title;
        var subtitle = e.features[0].properties.subtitle;
        var info = e.features[0].properties.info;

        // create a variable to hold the popupcontent so we can conditionally add to it
        var popupContent;

        if (name != null){
        popupContent = "<h2>" + name + "</h2>";
        }
        
        if (subtitle != null) {
          popupContent += "\n<h3>" + subtitle +"</h3>";
        }

        if (info != null) {
          popupContent += "<hr>" + info;
        }

        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
          coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        // once the we've defined the properties for our popup, this part actually
        // displays that popup at the coordinates of the click event, with the inner html
        // we defined, and adds it to the map object.
        new mapboxgl.Popup()
          .setLngLat(coordinates)
          .setHTML(popupContent)
          .addTo(map);
      });
      
    </script>
  </body>
</html>
